{"version":3,"file":"js/383.ac127438.js","mappings":"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","sources":["webpack://supermail/./src/components/common/navbar/NavBar.vue","webpack://supermail/src/components/common/navbar/NavBar.vue","webpack://supermail/./src/components/common/navbar/NavBar.vue?1831","webpack://supermail/./src/components/common/navbar/NavBar.vue?9ae4","webpack://supermail/./src/views/cart/Cart.vue","webpack://supermail/./src/views/cart/childComps/CartList.vue","webpack://supermail/./src/views/cart/childComps/CartListItem.vue","webpack://supermail/./src/views/cart/childComps/CheckButton.vue","webpack://supermail/src/views/cart/childComps/CheckButton.vue","webpack://supermail/./src/views/cart/childComps/CheckButton.vue?c70a","webpack://supermail/./src/views/cart/childComps/CheckButton.vue?f39e","webpack://supermail/src/views/cart/childComps/CartListItem.vue","webpack://supermail/./src/views/cart/childComps/CartListItem.vue?c1d9","webpack://supermail/./src/views/cart/childComps/CartListItem.vue?9c97","webpack://supermail/src/views/cart/childComps/CartList.vue","webpack://supermail/./src/views/cart/childComps/CartList.vue?9f98","webpack://supermail/./src/views/cart/childComps/CartList.vue?1fbe","webpack://supermail/./src/views/cart/childComps/CartAggregate.vue","webpack://supermail/src/views/cart/childComps/CartAggregate.vue","webpack://supermail/./src/views/cart/childComps/CartAggregate.vue?587b","webpack://supermail/./src/views/cart/childComps/CartAggregate.vue?f7f7","webpack://supermail/src/views/cart/Cart.vue","webpack://supermail/./src/views/cart/Cart.vue?c60a","webpack://supermail/./src/views/cart/Cart.vue?2f7a","webpack://supermail/./src/network/detail.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"nav-bar\"},[_c('div',{staticClass:\"left\"},[_vm._t(\"left\")],2),_c('div',{staticClass:\"center\"},[_vm._t(\"center\")],2),_c('div',{staticClass:\"right\"},[_vm._t(\"right\")],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"nav-bar\">\r\n    <div class=\"left\">\r\n      <slot name=\"left\"></slot>\r\n    </div>\r\n    <div class=\"center\">\r\n      <slot name=\"center\"></slot>\r\n    </div>\r\n    <div class=\"right\">\r\n      <slot name=\"right\"></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"nav-bar\",\r\n};\r\n</script>\r\n\r\n<style>\r\n.nav-bar {\r\n  display: flex;\r\n  height: 44px;\r\n  line-height: 44px;\r\n  box-shadow: 0 1px 1px rgba(100, 100, 100, 0.1);\r\n  text-align: center;\r\n}\r\n.left,\r\n.right {\r\n  width: 60px;\r\n}\r\n.center {\r\n  flex: 1;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NavBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NavBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NavBar.vue?vue&type=template&id=159b8283&\"\nimport script from \"./NavBar.vue?vue&type=script&lang=js&\"\nexport * from \"./NavBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NavBar.vue?vue&type=style&index=0&id=159b8283&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"cart\"},[_c('nav-bar',{staticClass:\"nav-bar\"},[_c('div',{attrs:{\"slot\":\"center\"},slot:\"center\"},[_vm._v(\"购物车(\"+_vm._s(_vm.cartLength)+\")\")])]),_c('cart-list'),_c('cart-aggregate',{staticClass:\"aggregate\"})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"cart-list\"},[_c('div',{ref:\"scroll\",staticClass:\"content\"},_vm._l((_vm.cartList),function(item){return _c('cart-list-item',{key:item.iid,attrs:{\"product\":item}})}),1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"cart-list-item\"},[_c('div',{staticClass:\"check\"},[_c('check-button',{attrs:{\"value\":_vm.product.checked},on:{\"checkBtnClick\":function($event){return _vm.checkBtnClick()}}})],1),_c('div',{staticClass:\"image\"},[_c('figure',{style:(_vm.figureBackGround)})]),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.product.title))]),_c('div',{staticClass:\"desc\"},[_vm._v(_vm._s(_vm.product.desc))]),_c('div',{staticClass:\"bottom\"},[_c('div',{staticClass:\"price\"},[_vm._v(\"￥\"+_vm._s(_vm.product.price))]),_c('div',{staticClass:\"count\"},[_vm._v(\"×\"+_vm._s(_vm.product.count))])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"icon-selector\",class:{ 'selector-active': _vm.checked },on:{\"click\":_vm.selectItem}},[_c('img',{attrs:{\"src\":require(\"assets/img/cart/tick.svg\"),\"alt\":\"\"}})])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div\r\n      class=\"icon-selector\"\r\n      :class=\"{ 'selector-active': checked }\"\r\n      @click=\"selectItem\"\r\n    >\r\n      <img src=\"~/assets/img/cart/tick.svg\" alt=\"\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"CheckButton\",\r\n  props: {\r\n    value: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n  },\r\n  data: function () {\r\n    return {\r\n      checked: this.value,\r\n    };\r\n  },\r\n  methods: {\r\n    selectItem: function () {\r\n      this.$emit(\"checkBtnClick\");\r\n    },\r\n  },\r\n  watch: {\r\n    value: function (newValue) {\r\n      this.checked = newValue;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.icon-selector {\r\n  position: relative;\r\n  margin: 0 auto;\r\n  width: 18px;\r\n  height: 18px;\r\n  border-radius: 50%;\r\n  border: 2px solid #ccc;\r\n  cursor: pointer;\r\n}\r\n\r\n.selector-active {\r\n  background-color: #ff8198;\r\n  border-color: #ff8198;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CheckButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CheckButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CheckButton.vue?vue&type=template&id=2f7832e2&scoped=true&\"\nimport script from \"./CheckButton.vue?vue&type=script&lang=js&\"\nexport * from \"./CheckButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CheckButton.vue?vue&type=style&index=0&id=2f7832e2&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f7832e2\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"cart-list-item\">\r\n    <div class=\"check\">\r\n      <check-button @checkBtnClick=\"checkBtnClick()\" :value=\"product.checked\"/>\r\n    </div>\r\n    <div class=\"image\">\r\n      <figure :style=\"figureBackGround\"></figure>\r\n    </div>\r\n    <div class=\"info\">\r\n      <div class=\"title\">{{ product.title }}</div>\r\n      <div class=\"desc\">{{ product.desc }}</div>\r\n      <div class=\"bottom\">\r\n        <div class=\"price\">￥{{ product.price }}</div>\r\n        <div class=\"count\">×{{ product.count }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CheckButton from './CheckButton'\r\nexport default {\r\n  props: {\r\n    product: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      },\r\n    },\r\n  },\r\n  data(){\r\n    return {\r\n    }\r\n  },\r\n  computed: {\r\n    figureBackGround() {\r\n      return `background-image: url(${this.product.image});`;\r\n    },\r\n  },\r\n  methods:{\r\n    checkBtnClick(){\r\n      this.product.checked = !this.product.checked;\r\n    }\r\n  },\r\n  components:{\r\n    CheckButton\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.cart-list-item {\r\n  display: flex;\r\n  width: 100%;\r\n  flex-wrap: nowrap;\r\n  align-items: center;\r\n  padding: 5px;\r\n  border-bottom: 1px solid #ccc;\r\n}\r\n.check {\r\n  flex: 1;\r\n}\r\n.image{\r\n  padding: 5px;\r\n  flex: 2;\r\n}\r\n.image figure {\r\n  width: 80px;\r\n  height: 100px;\r\n  background-repeat: no-repeat;\r\n  background-size: 100%;\r\n  background-position: center center;\r\n  border-radius: 5px;\r\n}\r\n.info {\r\n  padding: 5px 15px;\r\n  overflow: hidden;\r\n  flex: 7;\r\n}\r\n.info .title,\r\n.info .desc {\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n}\r\n.info .title {\r\n  font-weight: bold;\r\n}\r\n.info .desc {\r\n  font-size: 14px;\r\n  margin-top: 15px;\r\n}\r\n.info .bottom {\r\n  margin-top: 15px;\r\n  overflow: hidden;\r\n}\r\n.info .bottom .price {\r\n  float: left;\r\n  font-weight: bold;\r\n  color: var(--color-high-text);\r\n}\r\n.info .bottom .count {\r\n  float: right;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CartListItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CartListItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CartListItem.vue?vue&type=template&id=796d20de&scoped=true&\"\nimport script from \"./CartListItem.vue?vue&type=script&lang=js&\"\nexport * from \"./CartListItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CartListItem.vue?vue&type=style&index=0&id=796d20de&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"796d20de\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"cart-list\">\r\n    <div class=\"content\" ref=\"scroll\">\r\n      <cart-list-item\r\n        v-for=\"item in cartList\"\r\n        :key=\"item.iid\"\r\n        :product=\"item\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CartListItem from \"./CartListItem\";\r\n\r\nimport { mapGetters } from \"vuex\";\r\nexport default {\r\n  computed: {\r\n    ...mapGetters([\"cartList\"]),\r\n  },\r\n  activated() {},\r\n  components: {\r\n    CartListItem,\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.cart-list {\r\n  overflow-y: scroll;\r\n  scroll-behavior: smooth;\r\n  /* height: calc(100vh - 44px - 49px - 40px); */\r\n  height: calc(100vh - 6.59670vh - 7.34632vh);\r\n  padding-bottom: 70px;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CartList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CartList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CartList.vue?vue&type=template&id=723acee4&scoped=true&\"\nimport script from \"./CartList.vue?vue&type=script&lang=js&\"\nexport * from \"./CartList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CartList.vue?vue&type=style&index=0&id=723acee4&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"723acee4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"aggregate\"},[_c('div',{staticClass:\"checked-all\"},[_c('check-button',{attrs:{\"value\":_vm.isSelectAll},on:{\"checkBtnClick\":function($event){return _vm.checkBtnClick()}}}),_c('span',[_vm._v(\"全选\")])],1),_c('div',{staticClass:\"sum-price\"},[_vm._v(\"合计:￥\"+_vm._s(_vm.sumPrice))]),_c('div',{staticClass:\"settle\",on:{\"click\":function($event){return _vm.settleClick()},\"dblclick\":function($event){return _vm.clearCart()},\"touchstart\":function($event){return _vm.startTouch()},\"touchend\":function($event){return _vm.endTouch()}}},[_vm._v(\" 去结算(\"+_vm._s(_vm.caculate)+\") \")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"aggregate\">\r\n    <div class=\"checked-all\">\r\n      <check-button @checkBtnClick=\"checkBtnClick()\" :value=\"isSelectAll\" />\r\n      <span>全选</span>\r\n    </div>\r\n    <div class=\"sum-price\">合计:￥{{ sumPrice }}</div>\r\n    <div\r\n      class=\"settle\"\r\n      @click=\"settleClick()\"\r\n      @dblclick=\"clearCart()\"\r\n      @touchstart=\"startTouch()\"\r\n      @touchend=\"endTouch()\"\r\n    >\r\n      去结算({{ caculate }})\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CheckButton from \"./CheckButton.vue\";\r\n\r\nimport { mapGetters } from \"vuex\";\r\nexport default {\r\n  name: \"CartAggregate\",\r\n  data() {\r\n    return {\r\n      longTouchTimer: null,\r\n    };\r\n  },\r\n  methods: {\r\n    checkBtnClick() {\r\n      if (this.isSelectAll) {\r\n        this.cartList.forEach((item) => {\r\n          item.checked = false;\r\n        });\r\n      } else {\r\n        this.cartList.forEach((item) => {\r\n          item.checked = true;\r\n        });\r\n      }\r\n    },\r\n    settleClick() {\r\n      if (this.caculate <= 0) {\r\n        this.$toast.show(\"当前没有选择任何商品\");\r\n      } else {\r\n        this.$toast.show(\"余额不足，无法购买,长按或双击以清空购物车\");\r\n      }\r\n    },\r\n    clearCart() {\r\n      this.$store.dispatch(\"clearAllCart\").then((res) => {\r\n        this.$toast.show(res);\r\n      });\r\n    },\r\n    startTouch() {\r\n      this.longTouchTimer = setTimeout(() => {\r\n        this.cartList();\r\n      }, 300);\r\n    },\r\n    endTouch() {\r\n      clearTimeout(this.longTouchTimer);\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"cartList\"]),\r\n    sumPrice() {\r\n      return this.cartList\r\n        .reduce((prev, item) => {\r\n          return prev + (item.checked ? item.price * item.count : 0);\r\n        }, 0)\r\n        .toFixed(2);\r\n    },\r\n    caculate() {\r\n      let count = 0;\r\n      this.cartList.forEach((element) => {\r\n        element.checked ? count++ : 0;\r\n      });\r\n      return count;\r\n    },\r\n    isSelectAll() {\r\n      if (this.cartList.length === 0) {\r\n        return false;\r\n      }\r\n      /**\r\n       * every 方法为数组中的每个元素执行一次 callback 函数，直到它找到一个会使 callback 返回 false 的元素。\r\n       * 如果发现了一个这样的元素，every 方法将会立即返回 false。\r\n       * 否则，callback 为每一个元素返回 true，every 就会返回 true。\r\n       * 注意：若收到一个空数组，此方法在任何情况下都会返回 true。\r\n       */\r\n      return this.cartList.every((item) => item.checked);\r\n    },\r\n  },\r\n  components: {\r\n    CheckButton,\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.aggregate {\r\n  height: 40px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  text-align: center;\r\n  box-shadow: 0 -1px 1px rgba(100, 100, 100, 10%);\r\n  background-color: #fff;\r\n}\r\n.aggregate .checked-all {\r\n  display: flex;\r\n  justify-content: space-evenly;\r\n  flex: 85;\r\n}\r\n.aggregate .sum-price {\r\n  flex: 192;\r\n}\r\n.aggregate .settle {\r\n  flex: 96;\r\n  color: #fff;\r\n  background-color: var(--color-tint);\r\n  line-height: 40px;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CartAggregate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CartAggregate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CartAggregate.vue?vue&type=template&id=7a8e6e80&scoped=true&\"\nimport script from \"./CartAggregate.vue?vue&type=script&lang=js&\"\nexport * from \"./CartAggregate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CartAggregate.vue?vue&type=style&index=0&id=7a8e6e80&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7a8e6e80\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"cart\">\r\n    <nav-bar class=\"nav-bar\">\r\n      <div slot=\"center\">购物车({{ cartLength }})</div>\r\n    </nav-bar>\r\n    <cart-list></cart-list>\r\n    <cart-aggregate class=\"aggregate\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NavBar from \"components/common/navbar/NavBar.vue\";\r\nimport CartList from \"./childComps/CartList.vue\";\r\nimport CartAggregate from \"./childComps/CartAggregate.vue\";\r\n\r\nimport { getCart } from \"network/user\";\r\nimport { getDetail } from \"network/detail\";\r\n\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nexport default {\r\n  name: \"Cart\",\r\n  computed: {\r\n    // 将store中的getter映射到局部计算属性\r\n    ...mapGetters([\"cartLength\", \"cartList\"]),\r\n    // ...mapGetters({\r\n    //   length:\"cartLength\",\r\n    //   list:\"cartList\"\r\n    // })// 如需指定别名，使用对象语法({this.computed:'store.getter'})\r\n  },\r\n  // created() {\r\n  //   if (this.getLoginStatus()) {\r\n  //     this.getCart();\r\n  //   }\r\n  // },\r\n  activated() {\r\n    if (this.getLoginStatus()) {\r\n      this.getCart();\r\n    }\r\n  },\r\n  methods: {\r\n    getCart() {\r\n      getCart(this.getAuth()).then((resData) => {\r\n        this.$store.state.cartList = [];\r\n        resData.data.forEach((item) => {\r\n          getDetail(item.iid).then((resSource) => {\r\n            const result = resSource.result;\r\n            let product = {};\r\n            product.image = result.itemInfo.topImages[0];\r\n            product.title = result.itemInfo.title;\r\n            product.desc = result.itemInfo.desc;\r\n            product.price = result.itemInfo.lowNowPrice;\r\n            product.iid = item.iid;\r\n            product.count = item.count;\r\n            this.addDirectCart(product).then((res) => {});\r\n          });\r\n        });\r\n      });\r\n    },\r\n    ...mapGetters([\"getLoginStatus\", \"getAuth\"]),\r\n    ...mapActions([\"addDirectCart\"]),\r\n  },\r\n  components: {\r\n    NavBar,\r\n    CartList,\r\n    CartAggregate,\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.nav-bar {\r\n  background-color: var(--color-tint);\r\n  color: #fff;\r\n  font-weight: bold;\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n.cart {\r\n  position: relative;\r\n}\r\n.aggregate {\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Cart.vue?vue&type=template&id=bd9e2a30&scoped=true&\"\nimport script from \"./Cart.vue?vue&type=script&lang=js&\"\nexport * from \"./Cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Cart.vue?vue&type=style&index=0&id=bd9e2a30&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bd9e2a30\",\n  null\n  \n)\n\nexport default component.exports","import { request } from \"./request\";\r\nexport function getDetail(iid) {\r\n  return request({\r\n    url: 'detail',\r\n    params: {\r\n      iid,\r\n    }\r\n  })\r\n}\r\nexport function getRecommends(){\r\n  return request({\r\n    url:\"recommend\"\r\n  })\r\n}\r\n\r\nexport class Goods {\r\n  constructor(itemInfo, columns, services) {\r\n    this.title = itemInfo.title;\r\n    this.desc = itemInfo.desc;\r\n    this.newPrice = itemInfo.price;\r\n    this.oldPrice = itemInfo.oldPrice;\r\n    this.discount = itemInfo.discountDesc;\r\n    this.columns = columns;\r\n    this.services = services;\r\n    this.nowPrice = itemInfo.lowNowPrice;\r\n  }\r\n}\r\nexport class Shop {\r\n  constructor(shopInfo) {\r\n    this.logo = shopInfo.shopLogo;\r\n    this.name = shopInfo.name;\r\n    this.fans = shopInfo.cFans;\r\n    this.sells = shopInfo.cSells;\r\n    this.score = shopInfo.score;\r\n    this.goodsCount = shopInfo.cGoods\r\n  }\r\n}\r\nexport class GoodsParam {\r\n  constructor(info, rule) {\r\n    // 注: images可能没有值(某些商品有值, 某些没有值)\r\n    this.image = info.images ? info.images[0] : '';\r\n    this.infos = info.set;\r\n    this.sizes = rule.tables;\r\n  }\r\n}"],"names":["render","_vm","this","_c","_self","staticClass","_t","staticRenderFns","name","component","attrs","slot","_v","_s","cartLength","ref","_l","cartList","item","key","iid","product","checked","on","$event","checkBtnClick","style","figureBackGround","title","desc","price","count","class","selectItem","require","props","value","type","default","data","methods","watch","computed","components","CheckButton","activated","CartListItem","isSelectAll","sumPrice","settleClick","clearCart","startTouch","endTouch","caculate","longTouchTimer","clearTimeout","reduce","toFixed","element","getCart","resData","getDetail","NavBar","CartList","CartAggregate","request","url","params","getRecommends","Goods","constructor","itemInfo","columns","services","newPrice","oldPrice","discount","discountDesc","nowPrice","lowNowPrice","Shop","shopInfo","logo","shopLogo","fans","cFans","sells","cSells","score","goodsCount","cGoods","GoodsParam","info","rule","image","images","infos","set","sizes","tables"],"sourceRoot":""}