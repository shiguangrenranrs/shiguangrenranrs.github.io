"use strict";(self["webpackChunksupermail"]=self["webpackChunksupermail"]||[]).push([[807],{3652:function(t,e,s){s.d(e,{Z:function(){return u}});var n=function(){var t=this,e=t._self._c;return e("button",{staticClass:"targetButton"},[t._t("content",(function(){return[t._v("按钮")]}))],2)},i=[],o={name:"InputComp"},a=o,l=s(1001),r=(0,l.Z)(a,n,i,!1,null,"a284a42c",null),u=r.exports},3388:function(t,e,s){s.d(e,{Z:function(){return u}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"nav-bar"},[e("div",{staticClass:"left"},[t._t("left")],2),e("div",{staticClass:"center"},[t._t("center")],2),e("div",{staticClass:"right"},[t._t("right")],2)])},i=[],o={name:"nav-bar"},a=o,l=s(1001),r=(0,l.Z)(a,n,i,!1,null,null,null),u=r.exports},4807:function(t,e,s){s.r(e),s.d(e,{default:function(){return M}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"profile"},[e("nav-bar",{staticClass:"profile-nav",scopedSlots:t._u([{key:"center",fn:function(){return[e("div",[t._v("我的")])]},proxy:!0}])}),t.getLoginStatus?e("email-view",{attrs:{email:t.getEmail},on:{"log-out":t.logOut}}):e("login-view",{on:{"login-ok":t.loginOK}})],1)},i=[],o=s(3822),a=s(3388),l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"InputComp"},[e("div",{staticClass:"form"},[e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"email",attrs:{type:"email",placeholder:"邮箱"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"password",attrs:{type:"password",placeholder:"密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),e("div",[e("button-comp",{staticClass:"login",nativeOn:{click:function(e){return t.login()}},scopedSlots:t._u([{key:"content",fn:function(){return[t._v("登录")]},proxy:!0}])})],1),e("div",{staticClass:"register-box"},[e("span",{staticClass:"regiseter",on:{click:t.register}},[t._v("新用户注册")])])]),e("disable-comp",{attrs:{title:"没有后端了不能登录"}})],1)},r=[],u=function(){var t=this,e=t._self._c;return e("input",{staticClass:"targetInput",attrs:{type:t.type,placeholder:t.placeholder}})},c=[],p={name:"InputComp",props:{type:{type:String,default:"text"},placeholder:{type:String,default:""}}},d=p,m=s(1001),f=(0,m.Z)(d,u,c,!1,null,"2815a6ee",null),g=f.exports,v=s(3652),h=s(7298),C=s(4493),_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"disable"},[e("div",{staticClass:"title"},[t._v(t._s(t.title))])])},w=[],$={name:"disableComp",props:{title:{type:String,default:""}}},x=$,y=(0,m.Z)(x,_,w,!1,null,"991ecd28",null),b=y.exports,k={name:"LoginView",data(){return{email:"",password:""}},methods:{login(){return C.G$.email.test(this.email.trim())?C.G$.password.test(this.password.trim())?void(0,h.x4)(this.email,this.password).then((t=>{if("ERROR"===t.code)return this.$toast.show(t.msg);console.log(t),this.$emit("login-ok",this.email,t.token)})):this.$toast.show("密码格式不正确,密码只能是6~12位"):this.$toast.show("邮箱格式不正确")},register(){this.$router.push("/register")}},components:{InputComp:g,ButtonComp:v.Z,DisableComp:b}},S=k,Z=(0,m.Z)(S,l,r,!1,null,"529fcd10",null),E=Z.exports,O=function(){var t=this,e=t._self._c;return e("div",{staticClass:"EmailView"},[e("div",{staticClass:"form"},[e("div",{staticClass:"title"},[t._v(" "+t._s(t.email)+" ")]),e("div",[e("button-comp",{staticClass:"logout",nativeOn:{click:function(e){return t.logOut()}},scopedSlots:t._u([{key:"content",fn:function(){return[t._v(" 退出登录 ")]},proxy:!0}])})],1)])])},R=[],I={name:"EmailView",props:{email:{type:String,default:""}},methods:{logOut(){this.$emit("log-out")}},components:{ButtonComp:v.Z}},V=I,B=(0,m.Z)(V,O,R,!1,null,"75caf145",null),L=B.exports,T={name:"Profile",data(){return{}},computed:{...(0,o.Se)(["getLoginStatus","getEmail"])},methods:{loginOK(t,e){this.$store.dispatch("loginOK",{email:t,token:e}).then((t=>{this.$toast.show(t)}))},logOut(){this.$store.dispatch("logOut").then((t=>{this.$toast.show(t)}))}},components:{NavBar:a.Z,LoginView:E,EmailView:L}},G=T,K=(0,m.Z)(G,n,i,!1,null,"cf2dc7b8",null),M=K.exports},4493:function(t,e,s){function n(t,e){let s=null;return function(){clearTimeout(s),s=setTimeout((()=>{t.apply(this,arguments)}),e)}}function i(t,e){let s=!0;return function(){s&&(s=!1,t.apply(this,arguments),setTimeout((()=>{s=!0}),e))}}s.d(e,{G$:function(){return o},eT:function(){return n},l$:function(){return i},p6:function(){return a}});const o={password:/^[\S]{6,12}$/,email:/^.+@(.+\.)+.+$/};function a(t,e){/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").slice(4-RegExp.$1.length)));let s={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(let n in s)if(new RegExp(`(${n})`).test(e)){let t=s[n]+"";e=e.replace(RegExp.$1,1===RegExp.$1.length?t:l(t))}return e}function l(t){return("00"+t).slice(t.length)}}}]);
//# sourceMappingURL=807.dcc8715e.js.map